S3.dc_question_types=function(value,init){if(value=='2'){options_field=$('#dc_question_options');if(options_field.hasClass('tagit-hidden-field')){options_field.tagit('destroy');}
$('#dc_question_options__row').hide();if(init){var $input=$('#dc_question_totals'),value=$input.val();if(value){var json_opts=JSON.parse(value),opt,comma_opts='';for(opt in json_opts){if(json_opts.hasOwnProperty(opt)){if(comma_opts!=''){comma_opts+=',';};comma_opts+=json_opts[opt];}};$input.val(comma_opts);}}
$('#dc_question_totals__row').show();}else if(value=='6'){$('#dc_question_totals__row').hide();if(init){var value=$input.val();if(value){var json_opts=JSON.parse(value),opt,comma_opts='';for(opt in json_opts){if(json_opts.hasOwnProperty(opt)){if(comma_opts!=''){comma_opts+=',';};comma_opts+=json_opts[opt];}};$('#dc_question_options').val(comma_opts);}}
$textarea=$('#dc_question_options');$input=$('<input></input>').attr({id:$textarea.prop('id'),name:$textarea.prop('name'),value:$textarea.val()});$textarea.after($input).remove();$('#dc_question_options__row').show();$('#dc_question_options').tagit();}else if(value=='9'){$('#dc_question_totals__row').hide();options_field=$('#dc_question_options');if(options_field.hasClass('tagit-hidden-field')){options_field.tagit('destroy');}
$('#dc_question_options__row').hide();}else{$('#dc_question_totals__row').hide();options_field=$('#dc_question_options');if(options_field.hasClass('tagit-hidden-field')){options_field.tagit('destroy');}
$('#dc_question_options__row').hide();}
if(init&&(value!='9')){var $input=$('#dc_question_grid'),value=$input.val();if(value){var json_opts=JSON.parse(value),opt,comma_opts='';for(opt in json_opts){if(json_opts.hasOwnProperty(opt)){if(comma_opts!=''){comma_opts+=',';};comma_opts+=json_opts[opt];}};$input.val(comma_opts);}}}
$(document).ready(function(){var qtype=$('#dc_question_field_type');S3.dc_question_types(qtype.val(),true);qtype.change(function(){S3.dc_question_types($(this).val(),false);});$('form').submit(function(){S3ClearNavigateAwayConfirm();var value=qtype.val()
if(value=='2'){var $input=$('#dc_question_totals'),json_opts=[],comma_opts=$input.val(),pieces=comma_opts.split(',');$(pieces).each(function(index){json_opts.push(pieces[index]);});$input.val(JSON.stringify(json_opts));}else if(value=='6'){var $input=$('#dc_question_options'),json_opts=Object(),comma_opts=$input.val(),pieces=comma_opts.split(',');$(pieces).each(function(index){json_opts[index+1]=pieces[index];});$input.val(JSON.stringify(json_opts));}
if(value=='9'){}else{var $input=$('#dc_question_grid'),json_opts=[],comma_opts=$input.val(),pieces=comma_opts.split(',');$(pieces).each(function(index){json_opts.push(pieces[index]);});$input.val(JSON.stringify(json_opts));}
return true;});});